version: '3.1'

networks:
  isogj_subnet:
    external:
      name: isogj_subnet

services:
  config-ms:

    build: config
    image: isogj/config-ms
    restart: always
    logging:
          options:
            max-size: "10m"
            max-file: "10"
    ports:
      - 8888:8888


  main-ms:
    build: main-ms
    image: isogj/main-ms
    restart: always
    logging:
          options:
            max-size: "10m"
            max-file: "10"
    ports:
      - 8080:8080



  isogj-mysql:
    image: mysql:5.7
    restart: always
    environment:
     - MYSQL_ALLOW_EMPTY_PASSWORD=yes
    ports:
      - 3306:3306
    networks:
          isogj_subnet:
            ipv4_address: 172.2.2.1